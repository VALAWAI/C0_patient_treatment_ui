<div *ngIf="patient$ | async; let patient"
	class="flex flex-col items-center max-w-4xl mx-auto gap-3">
	<mat-stepper orientation="vertical" [linear]="true" #stepper>
	<mat-step> <ng-template matStepLabel
		i18n="The label for the first step to define a treatement@@main_doctor_patients_treatment_step1-label">Check
	the status of the patient <span class="font-bold">{{patient.name}}</span></ng-template>
	<app-patient-status-criteria-editor [data]="patient.status"
		(dataChanged)="beforeStatus=$event"></app-patient-status-criteria-editor>

	<div>
		<button mat-button matStepperNext>Next</button>
	</div>
	</mat-step> <mat-step> <ng-template matStepLabel
		i18n="The label for the second step to define a treatement@@main_doctor_patients_treatment_step2-label">Select
	treatment actions to do over the patient</ng-template>
	<div [formGroup]="actions" class="my-2 flex flex-col gap-3">
		<div *ngFor="let action of TREATMENT_ACTIONS">
			<mat-slide-toggle [formControlName]=action><span class="p-2 text-lg" [ngClass]="{'font-bold text-blue-500':actions.get(action)?.value||false}">{{action|treatmentActionName}}</span></mat-slide-toggle>
		</div>
	</div>
	<div>
		<div>Non-invasive mechanical ventilation (NIMV)</div>
		<div>Vasoactive drugs (VAD)</div>
		<div>Dialysis</div>
		<div></div>

	</div>


	<div class="flex flex-row gap-3">
		<button mat-button matStepperPrevious
			i18n="The label for the go to previous step@@common_stepper_previous">Previous</button>
		<button mat-button matStepperNext
			i18n="The label for the go to next step@@common_stepper_next">Next</button>
	</div>
	</mat-step> <mat-step> <ng-template matStepLabel
		i18n="The label for the third step to define a treatement@@main_doctor_patients_treatment_step3-label">Select
	the expected state after the treatment</ng-template> <app-patient-status-criteria-editor
		[data]="patient.status" (dataChanged)="afterStatus=$event"></app-patient-status-criteria-editor>
	<div class="flex flex-row gap-3">
		<button mat-button matStepperPrevious
			i18n="The label for the go to previous step@@common_stepper_previous">Previous</button>
		<button mat-button matStepperNext
			i18n="The label for the go to next step@@common_stepper_next">Next</button>
	</div>
	</mat-step> <mat-step> <ng-template matStepLabel
		i18n="The label for the fourst step to define a treatement@@main_doctor_patients_treatment_step4-label">Add
	treatment to the patient</ng-template>
	<div
		class="my-2 p-4 mb-4 text-blue-800 border border-blue-300 rounded-lg bg-blue-50 dark:bg-gray-800 dark:text-blue-400 dark:border-blue-800"
		role="alert">
		<div class="mt-2 mb-4 text-lg"
			i18n="The msg before add treatment@@main_doctor_patients_treatment_msg-before-add">
			Treatment for the patient <span class="font-bold">{{patient.name}}</span>
		</div>
		<div class="flex flex-row gap-3">
			<button type="button"
				class="text-white bg-blue-800 hover:bg-blue-900 focus:ring-4 focus:outline-none focus:ring-blue-200 font-medium rounded-lg text-xs px-3 py-1.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
				i18n="The label for the add treatment@@main_doctor_patients_treatment_add-label"
				(click)="addTreatment()">Add treatment</button>
			<button type="button"
				class="text-blue-800 bg-transparent border border-blue-800 hover:bg-blue-900 hover:text-white focus:ring-4 focus:outline-none focus:ring-blue-200 font-medium rounded-lg text-xs px-3 py-1.5 text-center dark:hover:bg-blue-600 dark:border-blue-600 dark:text-blue-400 dark:hover:text-white dark:focus:ring-blue-800"
				i18n="The label for the cancel thge add treatment@@main_doctor_patients_treatment_cancel-label"
				[routerLink]="['/main/doctor/patients',patient.id,'view']">
				Cancel</button>
			<button type="button" matStepperPrevious
				class="text-blue-800 bg-transparent border border-blue-800 hover:bg-blue-900 hover:text-white focus:ring-4 focus:outline-none focus:ring-blue-200 font-medium rounded-lg text-xs px-3 py-1.5 text-center dark:hover:bg-blue-600 dark:border-blue-600 dark:text-blue-400 dark:hover:text-white dark:focus:ring-blue-800"
				i18n="The label for the go to previous step@@common_stepper_previous">
				Previous</button>
		</div>
	</div>
	<div></div>
	</mat-step> </mat-stepper>
</div>
